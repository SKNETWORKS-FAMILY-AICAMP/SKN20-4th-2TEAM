{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaperSnack - Snack-sized AI Papers</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    <style>
/* Slideshow Animation */
.slideshow {
    position: relative;
    width: 100%;
    aspect-ratio: 1;
    border-radius: 20px;
    overflow: hidden;
}

.slideshow .slide {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    animation: slideshow 5s infinite;
    background: transparent;
    mix-blend-mode: multiply;
}

.slideshow .slide:nth-child(1) { animation-delay: 0s; }
.slideshow .slide:nth-child(2) { animation-delay: 2.5s; }

@keyframes slideshow {
    0%, 25% { opacity: 1; }
    33%, 100% { opacity: 0; }
}

/* Hero */
        .hero {
            padding: 160px 40px 100px;
            max-width: 1320px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        .hero-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .hero-content h1 {
            font-size: 52px;
            font-weight: 900;
            color: var(--text-dark);
            margin-bottom: 24px;
            line-height: 1.2;
        }

        .hero-content p {
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 40px;
        }


        .hero-image-placeholder {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #fef3c7 0%, #fcd34d 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%,100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* Features */
        .features {
            padding: 80px 40px;
            max-width: 1320px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-size: 36px;
            font-weight: 900;
            color: var(--text-dark);
            margin-bottom: 16px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
        }

        .feature-card {
            background: white;
            padding: 40px 30px;
            border-radius: 16px;
            text-align: center;
            transition: 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
        }

        .feature-icon {
            font-size: 40px;
            margin-bottom: 20px;
        }

        .feature-card h3 {
            font-size: 22px;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        /* Responsive */
        @media (max-width: 992px) {

    .hero-container {
        grid-template-columns: 1fr;
        justify-items: center;
        text-align: center;
    }

    .hero-image {
        width: 100%;
        display: grid;           /* ğŸ”¥ flex â†’ grid */
        place-items: center;     /* ğŸ”¥ ì™„ì „ ì¤‘ì•™ ê³ ì • */
        margin-top: 40px;
    }

    .slideshow {
        width: 320px;            /* ğŸ”¥ % ë§ê³  ê³ ì • ê¸°ì¤€ */
        max-width: 90vw;
        aspect-ratio: 1;
        margin: 0 auto;
        justify-self: center;
    }
}
    </style>
</head>

<body>

{% include 'chatbot/header.html' %}

<section class="hero">
    <div class="hero-container">
        <div class="hero-content">
            <h1>
                Snack-sized AI Papers,<br>
                Served Weekly ğŸª
            </h1>
            <p>
                Discover and track the latest HuggingFace papers<br>
                without the overwhelm.
            </p>
            <p style="font-size: 16px; color: #666; margin-bottom: 20px;">
                <strong>{{ today|date:"Yë…„ mì›” dì¼" }}</strong> ê¸°ì¤€ | ğŸª PaperSnack <strong><span id="paper-count" data-count="{{ unique_papers|default:"0" }}">0</span>ê°œ</strong> ë³´ìœ  ì¤‘
            </p>
            <a href="{% url 'chatbot:chatbot' %}" class="btn-primary">Start Snacking</a>
        </div>

<div class="hero-image">
    <div class="slideshow">
        <img src="{% static 'images/cookie_1.png' %}" class="slide active" alt="photo1">
        <img src="{% static 'images/cookie_2.png' %}" class="slide" alt="photo2">
    </div>
</div>
    </div>
</section>

<script>
// ë…¼ë¬¸ ê°œìˆ˜ ì¹´ìš´íŠ¸ì—… ì• ë‹ˆë©”ì´ì…˜
document.addEventListener('DOMContentLoaded', function() {
    const counterElement = document.getElementById('paper-count');
    const targetCount = parseInt(counterElement.getAttribute('data-count')) || 0;

    if (targetCount === 0) {
        counterElement.textContent = '0';
        return;
    }

    const duration = 2000; // 2ì´ˆ ë™ì•ˆ ì• ë‹ˆë©”ì´ì…˜
    const startTime = performance.now();

    function updateCounter(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);

        // easeOutExpo íš¨ê³¼ (ë¹ ë¥´ê²Œ ì‹œì‘í•´ì„œ ì²œì²œíˆ ëë‚¨)
        const easeProgress = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress);

        const currentCount = Math.floor(easeProgress * targetCount);
        counterElement.textContent = currentCount.toLocaleString();

        if (progress < 1) {
            requestAnimationFrame(updateCounter);
        } else {
            counterElement.textContent = targetCount.toLocaleString();
        }
    }

    requestAnimationFrame(updateCounter);
});
</script>

</body>
</html>